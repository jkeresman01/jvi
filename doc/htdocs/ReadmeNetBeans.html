<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="Author" content="Ernie Rael">
  <meta name="GENERATOR" content="Mozilla/4.7 [en] (WinNT; U) [Netscape]">
  <meta name="Description" content="status and documentation of jVi">
  <title>jVi Home Page</title>
  <LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">
</head>
<body>


<h1>jVi in NetBeans</h1>
<h2 id="intro" class="MainSec00Font">Introduction</h2>

<p>
    Now you can use vi/vim commands while taking advantage of the NetBeans
    editors' code completion, templates, fixing compiler errors quickly and access
    to other IDE features.
</p>
<p>
<b> Log bugs at
    <a href="https://sourceforge.net/p/jvi/bugs/" target="_blank">
jVi Bug Tracking</a>.</b>
Please include both the <b>jVi version number</b> and the
<b>NetBeans version number</b>,
e.g. NB11.2, when reporting problems.
Get the version of jVi with the <span class="tt">:version</span> command,
also the version of jVi in use is displayed on the
<i>jVi Options and Configuration</i> editing option property page..
</p>
<p>

Discuss your issues, problems and/or requests at
<a href="https://sourceforge.net/p/jvi/discussion/" target="_blank">
jVi Open Discussion Forum</a>.
This is a good way to indicate what you'd like to see in jVi for NetBeans.

Communications can also be sent to
<a href="mailto:jvi@raelity.com">jVi</a>.
</p>
<h2 id="install" class="MainSec00Font">Installation</h2>
<p>
    Start by
    installing the <em>jVi for NB Update Center</em>
    Check <em>Tools &gt; Plugins &gt; Available Plugins</em>.
    If not found there, you can download it from the NetBeans
    plugin portal,
    <a href="http://netbeans-vm.apache.org/pluginportal/" target="_blank">
      currently found here</a>.
    After the Update Center is installed, pause
    while the catalog for jVi is downloaded, you may need to press the
    reload catalog button; after that there are several more
    entries in the "Editing" category of the Available plugins tab. Some of the
    jVi plugins are:
</p>
    <ul>
        <li>jVi for NetBeans</li>
        <li>Editor Pin (standalone and jVi)</li>
    </ul>
<p>
    jVi can also be installed by
    <a href="http://sourceforge.net/projects/jvi/files/jVi-for-NetBeans"
    style="font-size: larger" target="_top">
    downloading and installing nbvi zip file for NetBeans from sourceforge.
    </a>
</p>
<p>
    After installed, enable/disable jVi using Main Menu Tools > jVi checkbox.  
    There is also a toggle action to enable/disable jVi. The
    toggle action can be dragged to the Toolbar and/or bound to a keyboard shortcut.

    Looking at <a href="CHANGES.html">recent changes to jVi</a>
    is useful for getting an idea of the features in jVi.
</p>

<h2 id="per-project-settings" class="MainSec00Font">Per Project Settings</h2>
<p>
NetBeans has optional per project settings which are used for source code
formatting. Since jVi 1.6.1 this is some support for this; in particular,
if this support is enabled in both NetBeans and jVi, then
shiftwidth, tabstop and expand tabs are taken from NetBeans rather
than jVi options. When these NetBeans options are changed, any 
<b>currently displayed file</b> will not immediately get the new values.
Simply switch
to another file and then back and the new values are in effect. Other
open files properly get the new values. The problem is that
jVi is unable to get notification
of the value changes.
</p>


<h2 id="command-line" class="MainSec00Font">Command Line Completion</h2>

<p>
<img SRC="images/NbJviCommandNameCompletion.png"
     ALT="NetBeans jVi Command Name Completion"
     class="ImgLeft">

In NetBeans,
the jVi command line supports some limited completion functionality.
It is based on the NetBeans editor code completion infrastructure.
The completion list is brought up with &lt;Ctrl-Space&gt; or &lt;Ctrl-D&gt;.
There are options, <a href="#options">see below</a>,
to control whether or not to auto popup the completion lists.
</p>
<p>
    <img SRC="images/NbJviEditOther.png"
         ALT="NetBeans jVi Edit Other"
         class="ImgRight">

    There is command name completion as shown at the left.
    When &lt;Return&gt; is entered, the command which is highlighted
    in the list is copied to the command line and,
    unless it has <span class="tt">...</span> after it,
    it is executed immediately. The <span class="tt">...</span>
    indicates that the command may accept parameters; there is an
    opportunity to add the parameters and a second
    &lt;Return&gt; is required to execute the command.
    At the time of this writing, there is no completion for options,
    except for <span class="tt">:e#</span>.
</p>
<p>
    The <span class="tt">:e#</span> command support file name completion
    as show on the right; again, use &lt;Ctrl-Space&gt; or &lt;Ctrl-D&gt;
    to bring up the list.
    The file list is only for files currently open
    in the NetBeans editor. And of course if no parameter is provided
    for <span class="tt">:e#</span> then the previous file becomes the
    current file.
</p>

<h2 id="normal" class="MainSec00Font">Normal Mode</h2>
There are some Normal Mode commands that hook into NetBeans features.
<table class="TableOfCommands">
    <tbody>
        <tr>
            <td><span class="tt">Ctrl-]</span></td>
            <td>Go To Declaration</td>
        </tr>
        <tr>
            <td><span class="tt">m{.&lt;&gt;}</span></td>
            <td>toggle bookmark, previous bookmark, next bookmark</td>
        </tr>
        <tr>
            <td><span class="tt">z{oOcCaARMv}</span></td>
            <td>expand fold, collapse fold, toggle open/close, expand all, collapse all</td>
        </tr>
        <tr>
            <td><span class="tt">gt</span>, <span class="tt">gT</span></td>
            <td>Go to the next/previous editor tab page.
                Wraps around from first to last.
            </td>
        </tr>
    </tbody>
</table>

<h2 id="colon" class="MainSec00Font">Colon Commands</h2>
<h2 class="MainSec01Font">NetBeans colon command hooks</h2>
<table id="nb-hooks" class="TableOfCommands">
    <tbody>
        <tr>
            <td><span class="tt">:se[t]</span></td>
            <td>See <a href="vimhelp/options.txt.html#set-option">
                Colon Commands</a> for
                information on available options. See <a href="#options">
                Netbeans options information</a> for platform interactions
                of the <span class="tt">sw</span>, <span class="tt">et</span>,
                <span class="tt">ts</span>, <span class="tt">nu</span>
                options.
            </td>
        </tr>
        <tr>
            <td><span class="tt">:e#[&lt;digit&gt;]</span></td>
            <td>
                After <span class="tt">:e#</span>
                code completion allows the selection
                of an open file. There is a jVi option <i>":e#" Auto popup</i>.
            </td>
        </tr>
        <tr>
                <td><span class="tt">:g/.../p</span>,
                    <span class="tt">:g/.../s/.../p</span>,
                <span class="tt">:1,$s/.../p</span></td>
            <td>The output of these commands go to an Output window
                with hyperlinks</td>
        </tr>
        <tr>
            <td><span class="tt">:ls</span>, <span class="tt">:buffers</span>, <span class="tt">:files</span></td>
            <td>The output of these commands go to an Output window</td>
        </tr>
        <tr>
                <td><span class="tt">:n[ext]</span>, <span class="tt">:N[ext]</span>,
                <span class="tt">:prev[ious]</span></td>
            <td>Operate on MRU file list, otherwise similar to vim. For
                example, <span class="tt">:3N</span> goes to the third previously file
                active</td>
        </tr>
        <tr>
            <td><span class="tt">:q[uit]</span>,
                <span class="tt">:wq[!]</span></td>
            <td>Close the curernt tab. Return to the previously active
                tab; for example <span class="tt">Ctrl-]</span>,
                <span class="tt">Ctrl-]</span>,
                <span class="tt">:q</span>,
                <span class="tt">:q</span> gets you back
                to where you started.</td>
        </tr>
        <tr>
            <td><span class="tt">:ts [&lt;any-chars&gt;]</span>,
            <br><span class="tt">:ta &lt;any-chars&gt;</span></td>
            <td>These bring up the "Go To Class" dialog.</td>
        </tr>
        <tr>
            <td><span class="tt">:gr[ep]</span> </td>
            <td>perform "Find Usages" action on the identifier under
            the cursor.</td>
        </tr>
        <tr>
            <td><span class="tt">:mak[e]&nbsp;&lt;op&gt; &lt;target&gt;</span>
            </td>
            <td>
                &lt;op&gt; ::=
                <span class="tt">
                    [ b[uild] | c[lean] | r[ebuild] | d[oc] | de[bug] | ru[n] ]
                </span>
                <br>&lt;target&gt; ::= <span class="tt">
                    [ m[ain] | p[roject] | % ] </span>
                for main-project current-project current-file.
                <br>Default &lt;op&gt; is <span class="tt">build</span>,
                default &lt;target&gt; is <span class="tt">main</span>. So entering
                <span class="tt">:mak</span> is the same as
                <span class="tt">:make build main</span>.
            </td>
        </tr>
        <tr>
            <td><span class="tt">:cn[ext]</span></td>
            <td>Goto the next in the list. In addition to compiler errors,
                it applies to many lists; for example in the diff window
                and in the output area,
            such as Find Usages or &quot;g/pattern/p&quot;.</td>
        </tr>
        <tr>
            <td><span class="tt">:cp[revious]</span>,
                <span class="tt">:cN[ext]</span></td>
            <td>Goto the previous in the list.</td>
        </tr>
        <tr>
            <td> <span class="tt">:tabn[ext]</span>,
                <span class="tt">:tabp[revious]</span>,
                <span class="tt">:tabN[ext]</span>
            </td>
            <td>Go to the next/previous editor tab page.
                Wraps around from first to last.
            </td>
        </tr>
        <tr>
            <td><span class="tt">:tog[gle] [&lt;side&gt;]</span></td>
            <td>
                &lt;side&gt; ::=
                <span class="tt">l[eft]</span>
                | <span class="tt">r[ight]</span>
                | <span class="tt">t[op]</span>
                | <span class="tt">b[ottom]</span>
                <br>toggle some NetBeans' window(s) visibility.
                This operates on windows that minimize to the specified side.
                The default, no argument, is <span class="tt">bottom</span>.
            </td>
        </tr>
    </tbody>
</table>

<h2 id="refactoring" class="MainSec01Font">Refactoring commands</h2>
The following commands bring up the indicated dialog. Typically the cursor
should be set as needed before executing the command.
<table class="TableOfCommands">
    <tbody>
        <tr>
            <td><span class="tt">:rfr[ename]</span></td>
            <td>Refactor &gt; Rename...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfm[ove]</span></td>
            <td>Refactor &gt; Move...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfc[opy]</span></td>
            <td>Refactor &gt; Copy...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfde[lete]</span>,
                <span class="tt">:rfsa[fedelete]</span></td>
            <td>Refactor &gt; Safe Delete...</td>
        </tr>
        <tr><td></td><td></td></tr>
        <tr>
            <td><span class="tt">:rfch[angemethodparameters]</span></td>
            <td>Refactor &gt; Change Method Parameters...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfenc[apsulatefields]</span></td>
            <td>Refactor &gt; Encapsulate Fields...</td>
        </tr>
        <tr><td></td><td></td></tr>
        <tr>
            <td><span class="tt">:rfup</span>,
                <span class="tt">:rfpul[lup]</span></td>
            <td>Refactor &gt; Pull Up...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfdo[wn]</span>,
                <span class="tt">:rfpus[hdown]</span></td>
            <td>Refactor &gt; Push Down...</td>
        </tr>
        <tr><td></td><td></td></tr>
        <tr>
            <td><span class="tt">:rfintrovar[iable]</span></td>
            <td>Refactor &gt; Introduce Variable...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfintrocon[stant]</span></td>
            <td>Refactor &gt; Introduce Constant...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfintrofie[ld]</span></td>
            <td>Refactor &gt; Introduce Field...</td>
        </tr>
        <tr>
            <td><span class="tt">:rfintromet[hod]</span></td>
            <td>Refactor &gt; Introduce Method...</td>
        </tr>
    </tbody>
</table>

<!--
<dd>This command is used to show/hide stuff in the browser window.
The visible state of the specified &lt;view-pane&gt; is toggled.
This might
better be done with the ":set" command but there are
technical difficulties. So, for now at least, there is the toggle command.
This will probably also be available from the set command in some future
release.
The &lt;view-pane&gt; can be any one of:
  <ul>
    <li><span class="tt">cur[tain]</span></li>
    <li><span class="tt">mes[sages]</span></li>
    <li><span class="tt">con[tent]</span></li>
    <li><span class="tt">pro[ject]</span></li>
    <li><span class="tt">str[ucture]</span></li>
    <li><span class="tt">sta[tusbar]</span></li>
    <li><span class="tt">tab[s]</span></li>
  </ul>
Note: the "<span class="tt">tabs</span>" view-pane is only available if the
        <a href="http://www.users.fast.net/~jpmcgrath/cosmetics/"
	target="_top">Cosmetics</a> open tool is loaded. It hides/shows
	the filename tabs of the editor.
</dd>
-->

    <img SRC="images/NbJviOptionsPanel.png"
         ALT="NetBeans jVi Options Panel"
         class="ImgRight">

<h2 id="options" class="MainSec00Font">Options</h2>
<p>
    There options that control jVi's behavior are found
    though NetBeans' Main Menu at
    <i>Tools &gt; Options &gt; jViConfig</i>.
    <span class="note">Note</span> that there are several sub tabs
    that contain jVi options as well. Most of these
    are well known vim options. If you click on an option name, a description of
    the option is displayed. The option names can generally be used in vim to get
    help if you want a more detailed description of what the option does.
</p>
<h2 id="shiftwidth" class="MainSec01Font">shiftwidth, expandtabs and tabstop</h2>
<p>
    <b><span class="tt">:set</span> options details.</b> The options
    <span class="tt">shiftwidth</span>, <span class="tt">expandtabs</span>
    and <span class="tt">tabstop</span> are per file
    options, so that any editor clones of a given file have the same value for
    these options.
    Different files can have different values for these options. The values
    set through the UI, in the <span class="tt">Buffer Modification</span>
    tab of the <span class="tt">jViConfig</span> options
    are the default values when a file is opened; setting the
    values in the UI is like putting them in a .vimrc. Any
    <span class="tt">modeline</span>
    settings are applied after the UI option values.
    The
    <span class="tt">number</span> options should be per window,
    but NetBeans applies it to all windows.
</p>
<p>
    <b>
        <span class="note">Note</span> that jVi
        changes the NetBeans values of these options to keep NetBeans in sync
        with the options for the current file.
    </b>
</p>

<p>
Autoindent and other such editor features are handled and configured through
NetBeans.  </p>

    <img SRC="images/NbJviImport.png"
         ALT="NetBeans jVi Import"
         class="ImgRight">
<h2 id="options-import" class="MainSec01Font">Options Import</h2>
<p>
    After installing a new release of NetBeans, jVi's option settings
    can be imported from the previous NetBeans userdir. Start by
    pressing <span class="tt">Import</span> on the Options dialog.
</p><p>
    The options export feature saves the options settings to a file.
    This can be used to
    move the options to a different machine when they can be imported.
</p>
<p>
    In addition to options, history information can also be
    imported and exported.
</p>

<h2 id="keys" class="MainSec00Font">Key Bindings</h2>

<p>
Keybindings that are not caught by jVi are passed on to NetBeans
application.
</p>
<p>
Configure the Keys that are caught by jVi though its
<i>Control-Key Bindings</i> and <i>Keypad Bindings</i>
options pages. If a key is not checked
(disabled) then it can be used for NetBeans keybindings. For example, uncheck
Ctrl-I and then this key brings up NetBeans' <i>Override and Implement
Methods</i> dialog. And of course there's ^C, ^X and ^V. The Ctrl-J starts some
pretty good NetBeans multi-key bindings.
</p>

<!--
<h2 id="custom" class="MainSec00Font">Customization</h2>
<p>
    Here is an example for adding a simple ":" command that takes no arguments.
    Refer to
    <a href="jvi-javadoc/com/raelity/jvi/ColonCommands.html">ColonCommands</a>
    and its inner clases API for more info, such as handling line number and
    arguments as in <span class="tt">:3,7 mycom arg arg</span>.
    The source of the ActionEvent is the JEditorPane from where the command
    is executed. I haven't actully tried it, <span class="tt">ColonCommands</span> is in the
    <i>jVi Core</i> module.
</p>
    
    <pre>
<code>

    import org.netbeans.modules.whatever;
    import com.raelity.jvi.ColonCommands;
    import org.netbeans.modules.jvi.Module;

    class MyStuff {

      private void registerJViCommands() {
        ColonCommands.register("com", "command", whatever.someAction);
	// Execute something out of the FileSystem, could be a SystemAction
	ColonCommands.register("plat", "platform",
	    new Module.DelelgateFileSystemAction(
                "Actions/Tools/org-what-ever.instance"));
      }
    }
</code>
    </pre>
-->

<hr/>
<!-- raelity copyright -->
<address class="addr">
  Copyright &copy; 2019 Ernie Rael<br/>
  <a href="mailto:jvi@raelity.com">Contact jVi support</a>
</address>
</body>
</html>
<!-- vi:set sw=2 et ts=8: -->
